
<div class="notification-filter">
  <app-notification-timefilter (dateChange)="onDateChange($event)" ></app-notification-timefilter>
  <app-notification-filter (filter)="filterNotifications($event)"></app-notification-filter>
</div>

<div *ngFor="let notification of filteredNotifications">
  <mat-card
    class="notification-card"
    [ngClass]="{ 'viewed': notification.viewed }"
    (click)="markAsViewed(notification)"
  >
    <mat-card-header>
      <div mat-card-avatar class="notification-icon">
        <mat-icon>{{ notification.icon }}</mat-icon>
      </div>
      <mat-card-title>{{ notification.title }}</mat-card-title>
      <mat-card-subtitle>{{ notification.date | date: 'short' }}</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <p>{{ notification.message }}</p>
    </mat-card-content>

    <mat-card-actions>
      <button
        mat-button
        *ngIf="notification.action"
        (click)="handleAction(notification, $event)"
      >
        {{ notification.action }}
      </button>
      <button
        mat-button
        color="warn"
        (click)="dismiss(notification, $event)"
      >
        Dismiss
      </button>
    </mat-card-actions>
  </mat-card>
</div>
